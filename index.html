<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard de Ventas ‚Äî Marketing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
  <header>
    <h1>Dashboard de Ventas</h1>
    <div class="sub">An√°lisis de productos, ventas, pagos y distribuci√≥n geogr√°fica</div>
<div class="controls">
  <button id="btnLoadDefault">Cargar CSV por defecto (data/datos_taller_software.csv)</button>
  <span class="hint">o</span>
  <input type="file" id="fileInput" accept=".csv" />
  <span class="hint">Usa Live Server o el bot√≥n ‚ÄúCargar CSV‚Äù.</span>

  <!-- Toggle tema -->
  <button id="themeToggle" class="theme-toggle" style="margin-left:auto">
    <!-- icono simple; se reemplaza seg√∫n tema en JS -->
    <span id="themeIcon">üåô</span>
    <span id="themeLabel">Oscuro</span>
  </button>
</div>

  </header>

  <main class="wrap">
    <!-- KPIs (3 columnas) -->
    <section class="kpis">
      <div class="card kpi">
        <div class="chart-title">Monto TOTAL</div>
        <div class="value" id="kpiRevenue">$0</div>
        <div class="delta" id="kpiRevenueHint"></div>
      </div>
      <div class="card kpi">
        <div class="chart-title">Unidades Vendidas</div>
        <div class="value" id="kpiUnits">0</div>
        <div class="delta" id="kpiUnitsHint"></div>
      </div>
      <div class="card kpi">
        <div class="chart-title">Ventas Totales</div>
        <div class="value" id="kpiTx">0</div>
        <div class="delta" id="kpiTxHint"></div>
      </div>
    </section>

    <!-- Gr√°ficos -->
    <section class="grid">
      <div class="card chart-card">
        <div class="chart-title"><span>Top 5 productos por cantidad</span></div>
        <div class="chart-body">
          <canvas id="chartProductsQty"></canvas>
        </div>
      </div>

      <div class="card chart-card">
        <div class="chart-title"><span>Top 5 productos por Ventas</span></div>
        <div class="chart-body">
          <canvas id="chartProductsRevenue"></canvas>
        </div>
      </div>

      <!-- ocupa 100% del ancho -->
      <div class="card chart-card full" style="grid-column: 1 / -1;">
        <div class="chart-title"><span>Ventas en el tiempo (por mes)</span></div>
        <div class="chart-body">
          <canvas id="chartTime"></canvas>
        </div>
      </div>

      <div class="card chart-card">
        <div class="chart-title"><span>M√©todos de pago m√°s usados</span></div>
        <div class="chart-body">
          <canvas id="chartPayments"></canvas>
        </div>
      </div>

      <div class="card chart-card">
        <div class="chart-title"><span>Unidades vendidas por categor√≠a</span></div>
        <div class="chart-body">
          <canvas id="chartCategoriesQty"></canvas>
        </div>
      </div>

      <div class="card chart-card" style="grid-column: 1 / -1;">
        <div class="chart-title"><span>Distribuci√≥n de ventas por Regi√≥n / Pa√≠s</span></div>
        <div class="chart-body">
          <canvas id="chartGeo"></canvas>
        </div>
      </div>
    </section>

    <!-- Tablas resumen -->
    <section class="card">
      <div class="chart-title">
        <span>Resumen tabular ‚Äî Top productos (cantidad y ventas)</span>
      </div>
      <div class="grid">
        <div>
          <table class="table" id="tableTopQty">
            <thead><tr><th>Producto</th><th>Cantidad</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div>
          <table class="table" id="tableTopRevenue">
            <thead><tr><th>Producto</th><th>Ventas</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <footer>
    Construido con HTML, CSS y JS puro + Chart.js. M√©tricas calculadas con funciones utilitarias.
  </footer>

  <script type="module" src="js/app.js"></script>
  <script type="module" src="js/theme-toggle.js"></script>
</body>
</html>
